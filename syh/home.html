<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="utf-8">
        <title>新義和歌劇團</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <link rel="stylesheet" href="./total.css">
        <link rel="stylesheet" href="./phone.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700;900&display=swap" rel="stylesheet">
        <meta name="google-site-verification" content="N20GhW5Cv0OGp_9mv4Bh8SaradbqZiMPCQZ_FzPSwDU" />
    </head>
    <body>
        <header class="site-header">
          <h1 class="brand">
            <a href="#top" aria-label="新義和歌劇團"></a>
          </h1>
          <!-- 漢堡按鈕 -->
          <button class="nav-toggle" id="navToggle"
                  aria-controls="siteNav"
                  aria-expanded="false"
                  aria-label="開合導覽列">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>

          <!-- 選單 -->
          <nav class="site-nav" id="siteNav" role="navigation">
            <ul>
              <li><a href="#about">關於劇團</a></li>
              <li><a href="#history">劇團歷代人物</a></li>
              <li><a href="#contact">聯繫我們</a></li>
              <li><a href="#social">社交平台</a></li>
            </ul>
          </nav>
        </header>
        <main>
            <!-- 劇團介紹 -->
            <section id="about" class="about">
            <!--p class="figure">
                <img src="./img/簡介.jpg" alt="新義和歌劇團劇團前身為義和歌劇團於1961年由江張卻女士創團在中部廣受追捧後來因受邀歌仔戲電台擔任廣播歌仔戲演員隨著節目熱播、演出邀請激增為了維持演出品質決定暫時收團專注於廣播歌仔戲演員第二代江郁茹女士1994年登陸歌仔戲工會參加各大劇團演出累積經驗傳承給第三代傳人2012年由第三四代傳人改名爲新義和歌劇團來傳承祖母與母親的文化精神。">
            </p-->
            <h2 class="reveal" data-reveal="down">簡介</h2>
            <p class="reveal" data-reveal="up">新義和歌劇團劇團前身為義和歌劇團於1961年由江張卻女士創團，<br/>
                在中部廣受追捧，後來因受邀歌仔戲電台擔任廣播歌仔戲演員，<br/>
                隨著節目熱播、演出邀請激增，為了維持演出品質，<br/>
                決定暫時收團專注於廣播歌仔戲演員。<br/>
                第二代江郁茹女士1994年登陸歌仔戲工會參加各大劇團演出，累積經驗傳承給第三代傳人。<br/>
                2012年由第三、四代傳人改名爲新義和歌劇團來傳承祖母與母親的文化精神。
            </p>
            </section>

            <!-- 歷代人物 -->
            <section id="history" class="history reveal-stagger">
                <h2 class="section-title section-title--bar">
                    新義和歌劇團歷代人物
                </h2>
                <figure class="person-card">
                    <img src="./img/老團長.jpg" alt="第一代：江張卻女士（老團長）">
                    <figcaption class="caption">第一代：江張卻女士<br/>（老團長）</figcaption>
                </figure>

                <figure class="person-card">
                    <img src="./img/編劇.jpg" alt="第一代：江春金（編劇）">
                    <figcaption class="caption">第一代：江春金（編劇）</figcaption>
                </figure>

                <figure class="person-card">
                    <img src="./img/苦旦.jpg" alt="第二代：江郁茹（苦旦）">
                    <figcaption class="caption">第二代：江郁茹（苦旦）</figcaption>
                </figure>
            </section>

            <!-- 結語 -->
            <section class="conclusion">
                <figure class="conclusion-media reveal" data-reveal="left">
                    <img src="./img/人物.jpg" alt="傳統骨，年輕魂 —— 戲曲潮牌・新義和">
                    <figcaption class="tagline reveal" data-reveal="up">傳統骨，年輕魂 —— 戲曲潮牌・新義和</figcaption>
                </figure>

                <div class="conclusion-text">
                    <p class="reveal" data-reveal="right">新義和歌劇團，源自傳統、勇於創新。<br/>
                       我們走進廟埕，唱出老觀眾的回憶，也走進年輕人的心裡，用戲曲說現在的故事。
                    </p>
                    <p class="reveal" data-reveal="right">在這裡，老戲新唱、青春詮釋，經典與創意交會，讓每一場演出都既熟悉又驚喜。<br/>
                       無論你是從小看戲長大的老朋友，還是第一次接觸戲曲的年輕人，新義和都邀你一起——看戲、聽曲、品人生。
                    </p>
                    <p class="reveal" data-reveal="right">想為地方活動增添熱鬧氣氛與文化底蘊？<br/>
                       新義和歌劇團提供專業戲曲演出服務，<br/>
                       量身打造節慶、宮廟、社區活動的表演節目。<br/>
                       熟齡觀眾最愛的經典劇碼<br/>
                       青少年也會被吸引的創新橋段<br/>
                       可配合主題、長度、場地調整演出內容<br/>
                       專業、準時、口碑好
                    </p>
                    <p>接演合作洽詢，歡迎聯繫新義和歌劇團！
                    </p>
                </div>
            </section>

            <!-- 聯絡表單 -->
            <section id="contact" class="contact">
            <h2 class="reveal" data-reveal="down">聯絡我！</h2>
                <p class="reveal" data-reveal="up">讓我們合作。 ❤</p>

                <form class="form" id="contactForm">
                    <input type="text" id="name" name="name" placeholder="姓名" required>
                    <input type="email" id="email" name="email" placeholder="電子信箱" required>
                    <textarea id="message" name="message" placeholder="訊息"></textarea>
                    <button type="submit">送出</button>
                </form>
            </section> <!-- ✅ 關閉 section，避免 footer 被包進去 -->

            <script>
            document.addEventListener('DOMContentLoaded', () => {
                const navToggle = document.getElementById('navToggle');
                const siteNav   = document.getElementById('siteNav');

                  if (!navToggle || !siteNav) return;
    
                  // 開關選單
                  navToggle.addEventListener('click', () => {
                    const open = siteNav.classList.toggle('is-open');
                    navToggle.classList.toggle('is-active', open);
                    navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
                    document.body.classList.toggle('no-scroll', open);
                  });

                  // 點選單連結自動收起
                  siteNav.querySelectorAll('a').forEach(a => {
                    a.addEventListener('click', () => {
                      siteNav.classList.remove('is-open');
                      navToggle.classList.remove('is-active');
                      navToggle.setAttribute('aria-expanded', 'false');
                      document.body.classList.remove('no-scroll');
                    });
                  });

                  // 視窗放大回桌機時，清乾淨狀態（避免切換尺寸出問題）
                  window.addEventListener('resize', () => {
                    if (window.innerWidth >= 769) {
                      siteNav.classList.remove('is-open');
                      navToggle.classList.remove('is-active');
                      navToggle.setAttribute('aria-expanded', 'false');
                      document.body.classList.remove('no-scroll');
                    }
                  });
                // 1) 如果有 .reveal-stagger，先幫它的子元素加上 .reveal 以便統一處理
              document.querySelectorAll('.reveal-stagger').forEach(group => {
                [...group.children].forEach(c => c.classList.add('reveal'));
                if (!group.dataset.stagger) group.dataset.stagger = 80; // 每格延遲(毫秒)
              });

              // 2) 建立觀察器：進入視窗就顯示；離開就重置（方便下次再進來時重播）
              const io = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                  const el = entry.target;
                  const dir = el.dataset.reveal;             // 可用 data-reveal="left|right|up|down"
                  const dirClass = dir ? `reveal--${dir}` : '';

                  if (entry.isIntersecting) {
                    if (dirClass) el.classList.add(dirClass);
                    el.classList.add('is-visible');

                    // 如果是一個「群組」，就幫群組的每個孩子做交錯延遲
                    if (el.matches('.reveal-stagger')) {
                      [...el.children].forEach((child, i) => {
                        child.style.transitionDelay = `${i * (+el.dataset.stagger || 80)}ms`;
                        child.classList.add('is-visible');
                      });
                    }
                  } else {
                    // 離開視窗：重置，之後再進來就會再次播放
                    el.classList.remove('is-visible');
                    if (el.matches('.reveal-stagger')) {
                      [...el.children].forEach(child => {
                        child.classList.remove('is-visible');
                        child.style.transitionDelay = '';
                      });
                    }
                  }
                });
              }, {
                root: null,
                threshold: 0.18,          // 元素進入 18% 就算看到
                rootMargin: '0px 0px -8% 0px'
              });

              // 3) 觀察所有需要 reveal 的元素
              const targets = document.querySelectorAll('.reveal, [data-reveal], .reveal-stagger');
              targets.forEach(el => io.observe(el));
            });
            </script>
            <!-- 預先載入音檔，縮短首播延遲 -->
            <link rel="preload" as="audio" href="./芙蓉.m4a" type="audio/mpeg">

            <!-- 背景音樂（無限重播） -->
            <audio id="bgm" src="../芙蓉.m4a" loop preload="metadata" playsinline></audio>

            <!-- 若自動播放被擋，顯示這顆「解鎖」按鈕 -->
            <button class="bgm-unlock" id="bgmUnlock" hidden aria-label="點一下開啟音樂">
              ▶ 點一下開啟音樂
            </button>
            <script>
            document.addEventListener('DOMContentLoaded', () => {
              const bgm = document.getElementById('bgm');
              const unlockBtn = document.getElementById('bgmUnlock');
              if (!bgm) return;

              // 保險設定
              bgm.playsInline = true;      // iOS/Android WebView 友善
              bgm.volume = 1;

              // 進站先嘗試自動播放（桌機多半成功；手機多半被擋）
              tryAutoPlay();

              // —— 解鎖播放（同時綁 click / touchend / pointerdown，取第一個觸發）——
              const unlockPlay = (e) => {
                // 某些瀏覽器/容器需要阻止既有行為（例如按鈕在 <form> 內）
                if (e && typeof e.preventDefault === 'function') e.preventDefault();

                // 保險：若尚未準備完全，先 load 一下
                if (bgm.readyState < 2) bgm.load();
                bgm.muted = false;
                bgm.currentTime = 0;

                // 直接在使用者手勢回調內呼叫，不 await / 不 then
                try { bgm.play(); } catch (err) {}

                // 真正開始播放後再把按鈕關掉
                const onPlaying = () => { hideUnlock(); cleanup(); };
                const onError    = () => { showUnlock(); cleanup(); }; // 若還是失敗，保持按鈕
                const cleanup = () => {
                  bgm.removeEventListener('playing', onPlaying);
                  bgm.removeEventListener('error', onError);
                };
                bgm.addEventListener('playing', onPlaying, { once: true });
                bgm.addEventListener('error', onError,   { once: true });
              };
              // 綁定三種事件，確保各家 Android 都能識別為手勢
              unlockBtn?.addEventListener('click', unlockPlay, { passive: false });
              unlockBtn?.addEventListener('touchend', unlockPlay, { passive: false });
              unlockBtn?.addEventListener('pointerdown', unlockPlay, { passive: false });

              // 備援：若使用者沒點按鈕而是點其他地方，也讓第一次互動啟動（只跑一次）
              const bootOnce = (e) => { unlockPlay(e); window.removeEventListener('pointerdown', bootOnce); };
              window.addEventListener('pointerdown', bootOnce, { once: true, passive: false });

              // —— loop 保險（極少數環境會忽略 loop 屬性）——
              bgm.addEventListener('ended', () => {
                try { bgm.currentTime = 0; bgm.play(); } catch (e) {}
              });

              // —— 前景/背景管理：背景一律暫停；回前景自動恢復 —— //
              document.addEventListener('visibilitychange', () => {
                if (document.visibilityState !== 'visible') {
                  if (!bgm.paused) bgm.pause();
                } else {
                  if (bgm.paused) {
                    // 回到前景時直接恢復（此時已認定曾解鎖過）
                    bgm.play().catch(() => { showUnlock(); });
                  }
                }
              });
              window.addEventListener('pagehide', () => { if (!bgm.paused) bgm.pause(); });

              // —— 小工具 —— //
              function tryAutoPlay(){
                // 直接呼叫；若被政策擋住，promise 會 reject → 顯示解鎖鈕
                try {
                  const p = bgm.play();
                  if (p && typeof p.catch === 'function') p.catch(() => showUnlock());
                } catch (e) {
                  showUnlock();
                }
              }
              function showUnlock(){ if (unlockBtn) unlockBtn.hidden = false; }
              function hideUnlock(){ if (unlockBtn) unlockBtn.hidden = true; }
                });
            </script>
                <div id="social" class="social">
                <a href="https://www.facebook.com/share/1Ho4w7W3ha/?mibextid=wwXIfr" target="_blank" class="icon"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.instagram.com/syh.ot_1994?igsh=MXd6azF0ZWs0NHZkMQ%3D%3D&utm_source=qr" target="_blank" class="icon"><i class="fab fa-instagram"></i></a>
                <a href="https://mail.google.com/mail/?view=cm&fs=1&to=goxyh2012@gmail.com" target="_blank" class="icon"><i class="fas fa-envelope"></i></a>
                <a href="https://lin.ee/jj6SE0T" target="_blank" class="icon"><i class="fab fa-line"></i></a>
                </div>
        </main>
            <!-- ✅ footer 放在頁面最後，並把社群按鈕一併放進來 -->
        <footer class="site-footer">
            <div class="container">
                <div class="footer-line">
                    <h2 class="footer-title">聯絡資訊</h2>
                    <div class="footer-info">
                        <p>團長：江敏琛</p>
                        <p>電話：0971-220-890</p>
                        <p>電子信箱：<a href="mailto:goxyh2012@gmail.com">goxyh2012@gmail.com</a></p>
                    </div>
                </div>
            </div>
        </footer>
    </body>

</html>
























